# StartsArenaAtack

调用 0xe9ccf3a3 购买份额

类似于 buyShares，用于为指定地址购买份额

三个参数依次代表创作者、购买的份额、推荐人

攻击者实际传入的三个参数依次为攻击合约地址 0xdd9afc、购买的份额、攻击合约地址 0xdd9afc

由于参数 varg0 和参数 varg2 相同都是攻击合约地址，所以函数 0x326c （设置推荐人）并没有成功设置和记录推荐人

接着往下调用 0x2058 函数开始执行具体的购买逻辑，传入参数依次为购买的份额（1 AVAX）、创作者地址（攻击合约地址）

重入攻击的核心就在这个函数的执行中，函数中先计算了当前创作者份额的价值，依次计算费用再依次转账，而在将奖励转给当前创作者也就是攻击合约时会触发合约的 fallback 函数，在 fallback 函数中，**攻击者重入到 Stars Arena 漏洞合约的 `0x5632b2e4` 函数中（没有重入锁）修改权重系数**





































